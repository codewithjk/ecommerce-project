<%- include("./layouts/header") %>

<div id="layout-wrapper">
  <%- include("./layouts/topbar") %>
  <!-- ========== App Menu ========== -->
  <%-include("./layouts/menubar") %>
  <!-- Left Sidebar End -->

  <div class="main-content">
    <div class="page-content">
      <div class="container-fluid">
        <!-- start page title -->
        <div class="row">
          <div class="col-12">
            <div
              class="page-title-box d-sm-flex align-items-center justify-content-between"
            >
              <h4 class="mb-sm-0">List View</h4>

              <div class="page-title-right">
                <ol class="breadcrumb m-0">
                  <li class="breadcrumb-item">
                    <a href="javascript: void(0);">Orders</a>
                  </li>
                  <li class="breadcrumb-item active">List View</li>
                </ol>
              </div>
            </div>
          </div>
        </div>
        <!-- end page title -->

        <!--end row-->

        <div class="row" id="orderList">
          <div class="col-lg-12">
            <!--end card-->
            <div class="card">
              <div class="card-body">
                <div class="table-responsive table-card mb-1">
                  <table
                    class="table align-middle table-nowrap"
                    id="orderTable"
                  >
                    <thead class="table-light">
                      <tr>
                        <th scope="col" style="width: 50px">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="checkAll"
                              value="option"
                            />
                          </div>
                        </th>
                        <!-- <th class="sort fw-medium" data-sort="id">Order ID</th> -->
                        <th
                          class="sort fw-medium desc"
                          data-sort="customer_name"
                        >
                          Customer
                        </th>
                        <th class="sort fw-medium" data-sort="product_name">
                          Product Name
                        </th>
                        <th class="sort fw-medium" data-sort="amount">
                          Amount
                        </th>
                        <th class="sort fw-medium" data-sort="order_date">
                          Order Date
                        </th>
                        <th class="sort fw-medium" data-sort="delivery_date">
                          Delivery Date
                        </th>
                        <th class="sort fw-medium" data-sort="payment_method">
                          Payment Method
                        </th>
                        <th class="sort fw-medium" data-sort="status">
                          Delivery Status
                        </th>
                        <th class="fw-medium" data-sort="action">Action</th>
                      </tr>
                    </thead>
                    <tbody class="list form-check-all">
                      <% orders.forEach(order => { %>

                      <tr id="<%=order.orderId %>" href="">
                        <th scope="row">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              name="chk_child"
                              value="option1"
                            />
                          </div>
                        </th>
                        <!-- <td class="id">
                            <a
                              href="javascript:void(0);"
                              class="fw-medium link-primary"
                              >#TBT2</a
                            >
                          </td> -->
                        <td class="customer_name"><%=order.customerName %></td>
                        <td class="product_name">
                          <ul>
                            <% order.productNames.forEach(product => {%>
                            <li><%=product %></li>
                            <% }); %>
                          </ul>
                        </td>
                        <td class="amount"><%=order.totalAmount %></td>
                        <td class="order_date">
                          <% const dateString = new
                          Date(order.orderDate).toLocaleDateString('en-US', {
                          day: '2-digit', month: 'short', year: 'numeric' }); %>
                          <%= dateString %>
                        </td>
                        <td class="delivery_date">13 Mar, 2024</td>
                        <td class="payment_method"><%=order.method %></td>
                        <td class="status">
                          <span
                            class="badge bg-info-subtle text-info text-uppercase"
                            ><%=order.status %></span
                          >
                        </td>
                        <td>
                          <div class="dropdown">
                            <button
                              class="btn btn-soft-secondary btn-sm btn-icon dropdown"
                              type="button"
                              data-bs-toggle="dropdown"
                              aria-expanded="false"
                            >
                              <i class="ri-more-fill align-middle"></i>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                              <li>
                                <a
                                  class="dropdown-item"
                                  href="/admin/order-details?orderId=<%=order.orderId %>"
                                >
                                  <i
                                    class="ri-eye-fill align-bottom me-2 text-muted"
                                  ></i>
                                  View
                                </a>
                              </li>
                            </ul>
                          </div>
                        </td>
                      </tr>

                      <% }); %>
                    </tbody>
                  </table>
                  <div class="noresult" style="display: none">
                    <div class="text-center py-4">
                      <div class="avatar-md mx-auto mb-4">
                        <div
                          class="avatar-title bg-primary-subtle text-primary rounded-circle fs-24"
                        >
                          <i class="bi bi-search"></i>
                        </div>
                      </div>
                      <h5 class="mt-2">Sorry! No Result Found</h5>
                      <p class="text-muted mb-0">
                        We've searched more than 150+ Orders We did not find any
                        orders for you search.
                      </p>
                    </div>
                  </div>
                </div>

                <div class="d-flex justify-content-end">
                  <!-- <div
                    class="pagination-wrap hstack gap-2"
                    style="display: flex"
                  >
                    <a class="page-item pagination-prev disabled" href="#">
                      <i class="mdi mdi-chevron-left align-middle me-1"></i>
                      Previous
                    </a>
                    <ul class="pagination listjs-pagination mb-0">
                      <li class="active">
                        <a class="page" href="#" data-i="1" data-page="10">1</a>
                      </li>
                      <li>
                        <a class="page" href="#" data-i="2" data-page="10">2</a>
                      </li>
                    </ul>
                    <a class="page-item pagination-next" href="#">
                      Next
                      <i class="mdi mdi-chevron-right align-middle ms-1"></i>
                    </a>
                  </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- container-fluid -->
    </div>
    <!-- End Page-content -->

    <footer class="footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-6">
            <script>
              document.write(new Date().getFullYear());
            </script>
            Â© FASCO.
          </div>
          <div class="col-sm-6">
            <div class="text-sm-end d-none d-sm-block"></div>
          </div>
        </div>
      </div>
    </footer>
  </div>
</div>
<!-- END layout-wrapper -->

<!--preloader-->
<div id="preloader">
  <div id="status">
    <div class="spinner-border text-primary avatar-sm" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>

<%- include("./layouts/footer") %>
